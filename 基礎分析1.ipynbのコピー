{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import datetime\n",
    "import numpy as np"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {
    "scrolled": true
   },
   "outputs": [],
   "source": [
    "df1 = pd.read_csv('trip_en.csv')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {
    "scrolled": true
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>TripID</th>\n",
       "      <th>UserID</th>\n",
       "      <th>PurposeID</th>\n",
       "      <th>Purpose</th>\n",
       "      <th>DepartureTime</th>\n",
       "      <th>ArrivalTime</th>\n",
       "      <th>TripTime</th>\n",
       "      <th>Validity</th>\n",
       "      <th>MainTransportationCode</th>\n",
       "      <th>MainTransportation</th>\n",
       "      <th>...</th>\n",
       "      <th>Time.Walk</th>\n",
       "      <th>Whether.alternatives.can.be.generated.Bus</th>\n",
       "      <th>Distance.Bus</th>\n",
       "      <th>Time.Bus</th>\n",
       "      <th>Fare.Bus</th>\n",
       "      <th>Access.Distance.Bus</th>\n",
       "      <th>Access.Time.Bus</th>\n",
       "      <th>Egress.Distance.Bus</th>\n",
       "      <th>Egress.Time.Bus</th>\n",
       "      <th>Total.Time.Bus</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>40509</td>\n",
       "      <td>4681</td>\n",
       "      <td>300</td>\n",
       "      <td>home</td>\n",
       "      <td>2018-08-27 17:27:17</td>\n",
       "      <td>2018-08-27 19:23:38</td>\n",
       "      <td>6981</td>\n",
       "      <td>1</td>\n",
       "      <td>100.0</td>\n",
       "      <td>train</td>\n",
       "      <td>...</td>\n",
       "      <td>6.910989</td>\n",
       "      <td>1.0</td>\n",
       "      <td>40.04873</td>\n",
       "      <td>2.188455</td>\n",
       "      <td>1125.9221</td>\n",
       "      <td>0.916498</td>\n",
       "      <td>0.190937</td>\n",
       "      <td>45.218730</td>\n",
       "      <td>3.265539</td>\n",
       "      <td>5.644931</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>40515</td>\n",
       "      <td>4683</td>\n",
       "      <td>300</td>\n",
       "      <td>home</td>\n",
       "      <td>2018-08-27 18:14:20</td>\n",
       "      <td>2018-08-27 21:07:30</td>\n",
       "      <td>10390</td>\n",
       "      <td>1</td>\n",
       "      <td>101.0</td>\n",
       "      <td>subway</td>\n",
       "      <td>...</td>\n",
       "      <td>0.026053</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>40516</td>\n",
       "      <td>4687</td>\n",
       "      <td>300</td>\n",
       "      <td>home</td>\n",
       "      <td>2018-08-27 19:25:54</td>\n",
       "      <td>2018-08-27 21:10:00</td>\n",
       "      <td>6246</td>\n",
       "      <td>1</td>\n",
       "      <td>100.0</td>\n",
       "      <td>train</td>\n",
       "      <td>...</td>\n",
       "      <td>0.576067</td>\n",
       "      <td>1.0</td>\n",
       "      <td>3.02918</td>\n",
       "      <td>0.165529</td>\n",
       "      <td>220.0000</td>\n",
       "      <td>0.172644</td>\n",
       "      <td>0.035968</td>\n",
       "      <td>3.280180</td>\n",
       "      <td>0.217821</td>\n",
       "      <td>0.419317</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>40519</td>\n",
       "      <td>4686</td>\n",
       "      <td>501</td>\n",
       "      <td>other</td>\n",
       "      <td>2018-08-27 16:36:20</td>\n",
       "      <td>2018-08-27 22:10:14</td>\n",
       "      <td>20034</td>\n",
       "      <td>1</td>\n",
       "      <td>201.0</td>\n",
       "      <td>bus</td>\n",
       "      <td>...</td>\n",
       "      <td>1.644572</td>\n",
       "      <td>1.0</td>\n",
       "      <td>7.30075</td>\n",
       "      <td>0.398948</td>\n",
       "      <td>210.0000</td>\n",
       "      <td>0.381000</td>\n",
       "      <td>0.079375</td>\n",
       "      <td>8.710872</td>\n",
       "      <td>0.692723</td>\n",
       "      <td>1.171047</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>40525</td>\n",
       "      <td>4684</td>\n",
       "      <td>200</td>\n",
       "      <td>Working</td>\n",
       "      <td>2018-08-28 07:03:26</td>\n",
       "      <td>2018-08-28 07:26:39</td>\n",
       "      <td>1393</td>\n",
       "      <td>1</td>\n",
       "      <td>300.0</td>\n",
       "      <td>car</td>\n",
       "      <td>...</td>\n",
       "      <td>0.045833</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12227</th>\n",
       "      <td>83142</td>\n",
       "      <td>4700</td>\n",
       "      <td>501</td>\n",
       "      <td>other</td>\n",
       "      <td>2018-12-28 12:20:57</td>\n",
       "      <td>2018-12-28 17:30:47</td>\n",
       "      <td>18590</td>\n",
       "      <td>1</td>\n",
       "      <td>101.0</td>\n",
       "      <td>subway</td>\n",
       "      <td>...</td>\n",
       "      <td>0.069762</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12228</th>\n",
       "      <td>83269</td>\n",
       "      <td>4700</td>\n",
       "      <td>501</td>\n",
       "      <td>other</td>\n",
       "      <td>2018-12-29 08:57:06</td>\n",
       "      <td>2018-12-29 11:15:55</td>\n",
       "      <td>8329</td>\n",
       "      <td>1</td>\n",
       "      <td>101.0</td>\n",
       "      <td>subway</td>\n",
       "      <td>...</td>\n",
       "      <td>0.039489</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12229</th>\n",
       "      <td>83334</td>\n",
       "      <td>4700</td>\n",
       "      <td>999</td>\n",
       "      <td>--</td>\n",
       "      <td>2018-12-30 13:01:08</td>\n",
       "      <td>2018-12-30 17:40:25</td>\n",
       "      <td>16757</td>\n",
       "      <td>1</td>\n",
       "      <td>101.0</td>\n",
       "      <td>subway</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12230</th>\n",
       "      <td>83371</td>\n",
       "      <td>4700</td>\n",
       "      <td>999</td>\n",
       "      <td>--</td>\n",
       "      <td>2018-12-31 11:38:18</td>\n",
       "      <td>2018-12-31 13:32:47</td>\n",
       "      <td>6869</td>\n",
       "      <td>1</td>\n",
       "      <td>101.0</td>\n",
       "      <td>subway</td>\n",
       "      <td>...</td>\n",
       "      <td>0.069495</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12231</th>\n",
       "      <td>83492</td>\n",
       "      <td>4684</td>\n",
       "      <td>300</td>\n",
       "      <td>home</td>\n",
       "      <td>2018-12-29 03:40:53</td>\n",
       "      <td>2019-01-05 15:14:37</td>\n",
       "      <td>646424</td>\n",
       "      <td>1</td>\n",
       "      <td>500.0</td>\n",
       "      <td>walk</td>\n",
       "      <td>...</td>\n",
       "      <td>1.308555</td>\n",
       "      <td>1.0</td>\n",
       "      <td>3.93266</td>\n",
       "      <td>0.214899</td>\n",
       "      <td>220.0000</td>\n",
       "      <td>0.096000</td>\n",
       "      <td>0.020000</td>\n",
       "      <td>6.553724</td>\n",
       "      <td>0.760954</td>\n",
       "      <td>0.995854</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>12232 rows × 108 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "       TripID  UserID  PurposeID  Purpose        DepartureTime  \\\n",
       "0       40509    4681        300     home  2018-08-27 17:27:17   \n",
       "1       40515    4683        300     home  2018-08-27 18:14:20   \n",
       "2       40516    4687        300     home  2018-08-27 19:25:54   \n",
       "3       40519    4686        501    other  2018-08-27 16:36:20   \n",
       "4       40525    4684        200  Working  2018-08-28 07:03:26   \n",
       "...       ...     ...        ...      ...                  ...   \n",
       "12227   83142    4700        501    other  2018-12-28 12:20:57   \n",
       "12228   83269    4700        501    other  2018-12-29 08:57:06   \n",
       "12229   83334    4700        999       --  2018-12-30 13:01:08   \n",
       "12230   83371    4700        999       --  2018-12-31 11:38:18   \n",
       "12231   83492    4684        300     home  2018-12-29 03:40:53   \n",
       "\n",
       "               ArrivalTime  TripTime  Validity  MainTransportationCode  \\\n",
       "0      2018-08-27 19:23:38      6981         1                   100.0   \n",
       "1      2018-08-27 21:07:30     10390         1                   101.0   \n",
       "2      2018-08-27 21:10:00      6246         1                   100.0   \n",
       "3      2018-08-27 22:10:14     20034         1                   201.0   \n",
       "4      2018-08-28 07:26:39      1393         1                   300.0   \n",
       "...                    ...       ...       ...                     ...   \n",
       "12227  2018-12-28 17:30:47     18590         1                   101.0   \n",
       "12228  2018-12-29 11:15:55      8329         1                   101.0   \n",
       "12229  2018-12-30 17:40:25     16757         1                   101.0   \n",
       "12230  2018-12-31 13:32:47      6869         1                   101.0   \n",
       "12231  2019-01-05 15:14:37    646424         1                   500.0   \n",
       "\n",
       "      MainTransportation  ...  Time.Walk  \\\n",
       "0                  train  ...   6.910989   \n",
       "1                 subway  ...   0.026053   \n",
       "2                  train  ...   0.576067   \n",
       "3                    bus  ...   1.644572   \n",
       "4                    car  ...   0.045833   \n",
       "...                  ...  ...        ...   \n",
       "12227             subway  ...   0.069762   \n",
       "12228             subway  ...   0.039489   \n",
       "12229             subway  ...        NaN   \n",
       "12230             subway  ...   0.069495   \n",
       "12231               walk  ...   1.308555   \n",
       "\n",
       "      Whether.alternatives.can.be.generated.Bus  Distance.Bus  Time.Bus  \\\n",
       "0                                           1.0      40.04873  2.188455   \n",
       "1                                           NaN           NaN       NaN   \n",
       "2                                           1.0       3.02918  0.165529   \n",
       "3                                           1.0       7.30075  0.398948   \n",
       "4                                           NaN           NaN       NaN   \n",
       "...                                         ...           ...       ...   \n",
       "12227                                       NaN           NaN       NaN   \n",
       "12228                                       NaN           NaN       NaN   \n",
       "12229                                       NaN           NaN       NaN   \n",
       "12230                                       NaN           NaN       NaN   \n",
       "12231                                       1.0       3.93266  0.214899   \n",
       "\n",
       "        Fare.Bus  Access.Distance.Bus Access.Time.Bus Egress.Distance.Bus  \\\n",
       "0      1125.9221             0.916498        0.190937           45.218730   \n",
       "1            NaN                  NaN             NaN                 NaN   \n",
       "2       220.0000             0.172644        0.035968            3.280180   \n",
       "3       210.0000             0.381000        0.079375            8.710872   \n",
       "4            NaN                  NaN             NaN                 NaN   \n",
       "...          ...                  ...             ...                 ...   \n",
       "12227        NaN                  NaN             NaN                 NaN   \n",
       "12228        NaN                  NaN             NaN                 NaN   \n",
       "12229        NaN                  NaN             NaN                 NaN   \n",
       "12230        NaN                  NaN             NaN                 NaN   \n",
       "12231   220.0000             0.096000        0.020000            6.553724   \n",
       "\n",
       "       Egress.Time.Bus Total.Time.Bus  \n",
       "0             3.265539       5.644931  \n",
       "1                  NaN            NaN  \n",
       "2             0.217821       0.419317  \n",
       "3             0.692723       1.171047  \n",
       "4                  NaN            NaN  \n",
       "...                ...            ...  \n",
       "12227              NaN            NaN  \n",
       "12228              NaN            NaN  \n",
       "12229              NaN            NaN  \n",
       "12230              NaN            NaN  \n",
       "12231         0.760954       0.995854  \n",
       "\n",
       "[12232 rows x 108 columns]"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "display(df1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [],
   "source": [
    "def ModeChain(df1):\n",
    "    user_list = df1[\"UserID\"].unique()\n",
    "    user_list =  np.sort(user_list)\n",
    "    list_daytime = []\n",
    "    for index, row in df1.iterrows():\n",
    "        list_daytime.append(datetime.datetime.strptime(row[\"DepartureTime\"], '%Y-%m-%d %H:%M:%S'))\n",
    "    df1[\"daytime\"] = list_daytime\n",
    "    day = datetime.datetime(2018,8,27)# 初日\n",
    "    day_index_list = []\n",
    "    while True:\n",
    "        day_index_list.append(day.strftime('%Y-%m-%d'))\n",
    "        if day == datetime.datetime(2018,12,31): break#最後の日まで\n",
    "        day += datetime.timedelta(days=1)\n",
    "\n",
    "    df4 = pd.DataFrame([],index=day_index_list)#空\n",
    "    # display(df4)\n",
    "\n",
    "    for user in user_list:\n",
    "        df2 = df1[df1[\"UserID\"]==user]\n",
    "        atcivity_list = []\n",
    "        day = datetime.datetime(2018,8,27)\n",
    "        while True:\n",
    "            df3 = df2[(df2[\"daytime\"] >= day)&(df2[\"daytime\"] <= day+datetime.timedelta(days=1))]#その日を取り出す\n",
    "            atcivity_list.append(\"->\".join(list(df3[\"Purpose\"])))\n",
    "            if day == datetime.datetime(2018,12,31): break\n",
    "            day += datetime.timedelta(days=1) \n",
    "        df4[user] = atcivity_list\n",
    "    df5 = pd.Series( df4.values.reshape([-1]) )#短冊切って一列に\n",
    "    act_pat_df = df5.value_counts()\n",
    "    act_pat_df.index.name=\"activity_pattern\"\n",
    "    act_pat_df = act_pat_df.reset_index()\n",
    "    act_pat_df[\"index\"] = range(len(act_pat_df))\n",
    "    act_pat_df = act_pat_df.set_index(\"index\")\n",
    "    act_pat_df = act_pat_df.rename(columns={0: 'num'})#名前をつけただけ\n",
    "    return act_pat_df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 36,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>4681</th>\n",
       "      <th>4683</th>\n",
       "      <th>4684</th>\n",
       "      <th>4685</th>\n",
       "      <th>4686</th>\n",
       "      <th>4687</th>\n",
       "      <th>4688</th>\n",
       "      <th>4689</th>\n",
       "      <th>4690</th>\n",
       "      <th>4691</th>\n",
       "      <th>...</th>\n",
       "      <th>5009</th>\n",
       "      <th>5010</th>\n",
       "      <th>5011</th>\n",
       "      <th>5012</th>\n",
       "      <th>5013</th>\n",
       "      <th>5014</th>\n",
       "      <th>5018</th>\n",
       "      <th>5024</th>\n",
       "      <th>5029</th>\n",
       "      <th>5430</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>2018-08-27</th>\n",
       "      <td>home</td>\n",
       "      <td>home</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>other</td>\n",
       "      <td>home</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-08-28</th>\n",
       "      <td>Work/School-&gt;home-&gt;home</td>\n",
       "      <td>home</td>\n",
       "      <td>Working</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-08-29</th>\n",
       "      <td>Work/School-&gt;home</td>\n",
       "      <td>Work/School-&gt;Working</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>Work/School</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-08-30</th>\n",
       "      <td>Work/School-&gt;home</td>\n",
       "      <td>Work/School</td>\n",
       "      <td>Working</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-08-31</th>\n",
       "      <td>Work/School-&gt;Working</td>\n",
       "      <td>Working</td>\n",
       "      <td>Work/School</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-12-27</th>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>home</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-12-28</th>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>home</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-12-29</th>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>home</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-12-30</th>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-12-31</th>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>127 rows × 218 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                               4681                  4683         4684 4685  \\\n",
       "2018-08-27                     home                  home                     \n",
       "2018-08-28  Work/School->home->home                  home      Working        \n",
       "2018-08-29        Work/School->home  Work/School->Working                     \n",
       "2018-08-30        Work/School->home           Work/School      Working        \n",
       "2018-08-31     Work/School->Working               Working  Work/School        \n",
       "...                             ...                   ...          ...  ...   \n",
       "2018-12-27                                                        home        \n",
       "2018-12-28                                                        home        \n",
       "2018-12-29                                                        home        \n",
       "2018-12-30                                                                    \n",
       "2018-12-31                                                                    \n",
       "\n",
       "             4686  4687 4688 4689 4690 4691  ... 5009 5010 5011 5012 5013  \\\n",
       "2018-08-27  other  home                      ...                            \n",
       "2018-08-28                                   ...                            \n",
       "2018-08-29                                   ...                            \n",
       "2018-08-30                                   ...                            \n",
       "2018-08-31                                   ...                            \n",
       "...           ...   ...  ...  ...  ...  ...  ...  ...  ...  ...  ...  ...   \n",
       "2018-12-27                                   ...                            \n",
       "2018-12-28                                   ...                            \n",
       "2018-12-29                                   ...                            \n",
       "2018-12-30                                   ...                            \n",
       "2018-12-31                                   ...                            \n",
       "\n",
       "           5014 5018 5024 5029         5430  \n",
       "2018-08-27                                   \n",
       "2018-08-28                                   \n",
       "2018-08-29                      Work/School  \n",
       "2018-08-30                                   \n",
       "2018-08-31                                   \n",
       "...         ...  ...  ...  ...          ...  \n",
       "2018-12-27                                   \n",
       "2018-12-28                                   \n",
       "2018-12-29                                   \n",
       "2018-12-30                                   \n",
       "2018-12-31                                   \n",
       "\n",
       "[127 rows x 218 columns]"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>activity_pattern</th>\n",
       "      <th>num</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>index</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td></td>\n",
       "      <td>22188</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Work/School-&gt;home</td>\n",
       "      <td>1289</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Work/School</td>\n",
       "      <td>558</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>home</td>\n",
       "      <td>476</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Shopping-&gt;home</td>\n",
       "      <td>156</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>808</th>\n",
       "      <td>other-&gt;home-&gt;other-&gt;Work/School</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>809</th>\n",
       "      <td>home-&gt;Shopping-&gt;home-&gt;Walking</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>810</th>\n",
       "      <td>Pickup-&gt;Lesson-&gt;Pickup-&gt;home</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>811</th>\n",
       "      <td>Hospital-&gt;home-&gt;other-&gt;home</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>812</th>\n",
       "      <td>Eating-&gt;Amusement-&gt;other-&gt; Eating-&gt;home</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>813 rows × 2 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                               activity_pattern    num\n",
       "index                                                 \n",
       "0                                                22188\n",
       "1                             Work/School->home   1289\n",
       "2                                   Work/School    558\n",
       "3                                          home    476\n",
       "4                                Shopping->home    156\n",
       "...                                         ...    ...\n",
       "808             other->home->other->Work/School      1\n",
       "809               home->Shopping->home->Walking      1\n",
       "810                Pickup->Lesson->Pickup->home      1\n",
       "811                 Hospital->home->other->home      1\n",
       "812     Eating->Amusement->other-> Eating->home      1\n",
       "\n",
       "[813 rows x 2 columns]"
      ]
     },
     "execution_count": 36,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "ModeChain(df1)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [],
   "source": [
    "user_list = df1[\"UserID\"].unique()\n",
    "user_list =  np.sort(user_list)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([4681, 4683, 4684, 4685, 4686, 4687, 4688, 4689, 4690, 4691, 4692,\n",
       "       4693, 4695, 4696, 4697, 4698, 4699, 4700, 4701, 4702, 4704, 4705,\n",
       "       4707, 4710, 4712, 4713, 4714, 4715, 4716, 4718, 4721, 4722, 4723,\n",
       "       4724, 4726, 4729, 4730, 4731, 4732, 4736, 4737, 4739, 4740, 4741,\n",
       "       4743, 4746, 4749, 4751, 4753, 4754, 4755, 4757, 4758, 4762, 4763,\n",
       "       4764, 4765, 4767, 4768, 4769, 4770, 4771, 4772, 4774, 4775, 4777,\n",
       "       4779, 4780, 4782, 4783, 4784, 4785, 4786, 4787, 4788, 4789, 4790,\n",
       "       4791, 4793, 4794, 4796, 4797, 4798, 4800, 4801, 4803, 4804, 4806,\n",
       "       4808, 4809, 4810, 4811, 4812, 4814, 4815, 4816, 4817, 4818, 4819,\n",
       "       4820, 4821, 4823, 4824, 4827, 4828, 4829, 4831, 4833, 4836, 4837,\n",
       "       4838, 4839, 4840, 4841, 4843, 4844, 4846, 4847, 4849, 4850, 4851,\n",
       "       4852, 4853, 4855, 4856, 4858, 4859, 4860, 4861, 4862, 4863, 4865,\n",
       "       4866, 4867, 4868, 4869, 4870, 4871, 4873, 4876, 4878, 4879, 4881,\n",
       "       4884, 4886, 4887, 4890, 4894, 4897, 4898, 4902, 4904, 4905, 4913,\n",
       "       4914, 4916, 4918, 4920, 4921, 4922, 4924, 4927, 4929, 4930, 4931,\n",
       "       4932, 4933, 4935, 4937, 4940, 4941, 4943, 4944, 4946, 4947, 4948,\n",
       "       4949, 4950, 4952, 4955, 4956, 4958, 4959, 4964, 4965, 4966, 4967,\n",
       "       4968, 4970, 4972, 4973, 4976, 4977, 4978, 4979, 4980, 4982, 4984,\n",
       "       4985, 4994, 4995, 4997, 4998, 4999, 5001, 5002, 5007, 5008, 5009,\n",
       "       5010, 5011, 5012, 5013, 5014, 5018, 5024, 5029, 5430])"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "user_list"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [],
   "source": [
    "list_daytime = []\n",
    "for index, row in df1.iterrows():\n",
    "    list_daytime.append(datetime.datetime.strptime(row[\"DepartureTime\"], '%Y-%m-%d %H:%M:%S'))\n",
    "df1[\"daytime\"] = list_daytime"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>TripID</th>\n",
       "      <th>UserID</th>\n",
       "      <th>PurposeID</th>\n",
       "      <th>Purpose</th>\n",
       "      <th>DepartureTime</th>\n",
       "      <th>ArrivalTime</th>\n",
       "      <th>TripTime</th>\n",
       "      <th>Validity</th>\n",
       "      <th>MainTransportationCode</th>\n",
       "      <th>MainTransportation</th>\n",
       "      <th>...</th>\n",
       "      <th>Whether.alternatives.can.be.generated.Bus</th>\n",
       "      <th>Distance.Bus</th>\n",
       "      <th>Time.Bus</th>\n",
       "      <th>Fare.Bus</th>\n",
       "      <th>Access.Distance.Bus</th>\n",
       "      <th>Access.Time.Bus</th>\n",
       "      <th>Egress.Distance.Bus</th>\n",
       "      <th>Egress.Time.Bus</th>\n",
       "      <th>Total.Time.Bus</th>\n",
       "      <th>daytime</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>40509</td>\n",
       "      <td>4681</td>\n",
       "      <td>300</td>\n",
       "      <td>home</td>\n",
       "      <td>2018-08-27 17:27:17</td>\n",
       "      <td>2018-08-27 19:23:38</td>\n",
       "      <td>6981</td>\n",
       "      <td>1</td>\n",
       "      <td>100.0</td>\n",
       "      <td>train</td>\n",
       "      <td>...</td>\n",
       "      <td>1.0</td>\n",
       "      <td>40.04873</td>\n",
       "      <td>2.188455</td>\n",
       "      <td>1125.9221</td>\n",
       "      <td>0.916498</td>\n",
       "      <td>0.190937</td>\n",
       "      <td>45.218730</td>\n",
       "      <td>3.265539</td>\n",
       "      <td>5.644931</td>\n",
       "      <td>2018-08-27 17:27:17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>40515</td>\n",
       "      <td>4683</td>\n",
       "      <td>300</td>\n",
       "      <td>home</td>\n",
       "      <td>2018-08-27 18:14:20</td>\n",
       "      <td>2018-08-27 21:07:30</td>\n",
       "      <td>10390</td>\n",
       "      <td>1</td>\n",
       "      <td>101.0</td>\n",
       "      <td>subway</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2018-08-27 18:14:20</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>40516</td>\n",
       "      <td>4687</td>\n",
       "      <td>300</td>\n",
       "      <td>home</td>\n",
       "      <td>2018-08-27 19:25:54</td>\n",
       "      <td>2018-08-27 21:10:00</td>\n",
       "      <td>6246</td>\n",
       "      <td>1</td>\n",
       "      <td>100.0</td>\n",
       "      <td>train</td>\n",
       "      <td>...</td>\n",
       "      <td>1.0</td>\n",
       "      <td>3.02918</td>\n",
       "      <td>0.165529</td>\n",
       "      <td>220.0000</td>\n",
       "      <td>0.172644</td>\n",
       "      <td>0.035968</td>\n",
       "      <td>3.280180</td>\n",
       "      <td>0.217821</td>\n",
       "      <td>0.419317</td>\n",
       "      <td>2018-08-27 19:25:54</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>40519</td>\n",
       "      <td>4686</td>\n",
       "      <td>501</td>\n",
       "      <td>other</td>\n",
       "      <td>2018-08-27 16:36:20</td>\n",
       "      <td>2018-08-27 22:10:14</td>\n",
       "      <td>20034</td>\n",
       "      <td>1</td>\n",
       "      <td>201.0</td>\n",
       "      <td>bus</td>\n",
       "      <td>...</td>\n",
       "      <td>1.0</td>\n",
       "      <td>7.30075</td>\n",
       "      <td>0.398948</td>\n",
       "      <td>210.0000</td>\n",
       "      <td>0.381000</td>\n",
       "      <td>0.079375</td>\n",
       "      <td>8.710872</td>\n",
       "      <td>0.692723</td>\n",
       "      <td>1.171047</td>\n",
       "      <td>2018-08-27 16:36:20</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>40525</td>\n",
       "      <td>4684</td>\n",
       "      <td>200</td>\n",
       "      <td>Working</td>\n",
       "      <td>2018-08-28 07:03:26</td>\n",
       "      <td>2018-08-28 07:26:39</td>\n",
       "      <td>1393</td>\n",
       "      <td>1</td>\n",
       "      <td>300.0</td>\n",
       "      <td>car</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2018-08-28 07:03:26</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows × 109 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "   TripID  UserID  PurposeID  Purpose        DepartureTime  \\\n",
       "0   40509    4681        300     home  2018-08-27 17:27:17   \n",
       "1   40515    4683        300     home  2018-08-27 18:14:20   \n",
       "2   40516    4687        300     home  2018-08-27 19:25:54   \n",
       "3   40519    4686        501    other  2018-08-27 16:36:20   \n",
       "4   40525    4684        200  Working  2018-08-28 07:03:26   \n",
       "\n",
       "           ArrivalTime  TripTime  Validity  MainTransportationCode  \\\n",
       "0  2018-08-27 19:23:38      6981         1                   100.0   \n",
       "1  2018-08-27 21:07:30     10390         1                   101.0   \n",
       "2  2018-08-27 21:10:00      6246         1                   100.0   \n",
       "3  2018-08-27 22:10:14     20034         1                   201.0   \n",
       "4  2018-08-28 07:26:39      1393         1                   300.0   \n",
       "\n",
       "  MainTransportation  ...  Whether.alternatives.can.be.generated.Bus  \\\n",
       "0              train  ...                                        1.0   \n",
       "1             subway  ...                                        NaN   \n",
       "2              train  ...                                        1.0   \n",
       "3                bus  ...                                        1.0   \n",
       "4                car  ...                                        NaN   \n",
       "\n",
       "  Distance.Bus  Time.Bus   Fare.Bus Access.Distance.Bus  Access.Time.Bus  \\\n",
       "0     40.04873  2.188455  1125.9221            0.916498         0.190937   \n",
       "1          NaN       NaN        NaN                 NaN              NaN   \n",
       "2      3.02918  0.165529   220.0000            0.172644         0.035968   \n",
       "3      7.30075  0.398948   210.0000            0.381000         0.079375   \n",
       "4          NaN       NaN        NaN                 NaN              NaN   \n",
       "\n",
       "  Egress.Distance.Bus Egress.Time.Bus  Total.Time.Bus             daytime  \n",
       "0           45.218730        3.265539        5.644931 2018-08-27 17:27:17  \n",
       "1                 NaN             NaN             NaN 2018-08-27 18:14:20  \n",
       "2            3.280180        0.217821        0.419317 2018-08-27 19:25:54  \n",
       "3            8.710872        0.692723        1.171047 2018-08-27 16:36:20  \n",
       "4                 NaN             NaN             NaN 2018-08-28 07:03:26  \n",
       "\n",
       "[5 rows x 109 columns]"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "display(df1.head())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>4681</th>\n",
       "      <th>4683</th>\n",
       "      <th>4684</th>\n",
       "      <th>4685</th>\n",
       "      <th>4686</th>\n",
       "      <th>4687</th>\n",
       "      <th>4688</th>\n",
       "      <th>4689</th>\n",
       "      <th>4690</th>\n",
       "      <th>4691</th>\n",
       "      <th>...</th>\n",
       "      <th>5009</th>\n",
       "      <th>5010</th>\n",
       "      <th>5011</th>\n",
       "      <th>5012</th>\n",
       "      <th>5013</th>\n",
       "      <th>5014</th>\n",
       "      <th>5018</th>\n",
       "      <th>5024</th>\n",
       "      <th>5029</th>\n",
       "      <th>5430</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>2018-08-27</th>\n",
       "      <td>home</td>\n",
       "      <td>home</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>other</td>\n",
       "      <td>home</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-08-28</th>\n",
       "      <td>Work/School-&gt;home-&gt;home</td>\n",
       "      <td>home</td>\n",
       "      <td>Working</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-08-29</th>\n",
       "      <td>Work/School-&gt;home</td>\n",
       "      <td>Work/School-&gt;Working</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>Work/School</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-08-30</th>\n",
       "      <td>Work/School-&gt;home</td>\n",
       "      <td>Work/School</td>\n",
       "      <td>Working</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-08-31</th>\n",
       "      <td>Work/School-&gt;Working</td>\n",
       "      <td>Working</td>\n",
       "      <td>Work/School</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-12-27</th>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>home</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-12-28</th>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>home</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-12-29</th>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>home</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-12-30</th>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2018-12-31</th>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td>...</td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>127 rows × 218 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                               4681                  4683         4684 4685  \\\n",
       "2018-08-27                     home                  home                     \n",
       "2018-08-28  Work/School->home->home                  home      Working        \n",
       "2018-08-29        Work/School->home  Work/School->Working                     \n",
       "2018-08-30        Work/School->home           Work/School      Working        \n",
       "2018-08-31     Work/School->Working               Working  Work/School        \n",
       "...                             ...                   ...          ...  ...   \n",
       "2018-12-27                                                        home        \n",
       "2018-12-28                                                        home        \n",
       "2018-12-29                                                        home        \n",
       "2018-12-30                                                                    \n",
       "2018-12-31                                                                    \n",
       "\n",
       "             4686  4687 4688 4689 4690 4691  ... 5009 5010 5011 5012 5013  \\\n",
       "2018-08-27  other  home                      ...                            \n",
       "2018-08-28                                   ...                            \n",
       "2018-08-29                                   ...                            \n",
       "2018-08-30                                   ...                            \n",
       "2018-08-31                                   ...                            \n",
       "...           ...   ...  ...  ...  ...  ...  ...  ...  ...  ...  ...  ...   \n",
       "2018-12-27                                   ...                            \n",
       "2018-12-28                                   ...                            \n",
       "2018-12-29                                   ...                            \n",
       "2018-12-30                                   ...                            \n",
       "2018-12-31                                   ...                            \n",
       "\n",
       "           5014 5018 5024 5029         5430  \n",
       "2018-08-27                                   \n",
       "2018-08-28                                   \n",
       "2018-08-29                      Work/School  \n",
       "2018-08-30                                   \n",
       "2018-08-31                                   \n",
       "...         ...  ...  ...  ...          ...  \n",
       "2018-12-27                                   \n",
       "2018-12-28                                   \n",
       "2018-12-29                                   \n",
       "2018-12-30                                   \n",
       "2018-12-31                                   \n",
       "\n",
       "[127 rows x 218 columns]"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "day = datetime.datetime(2018,8,27)# 初日\n",
    "day_index_list = []\n",
    "while True:\n",
    "    day_index_list.append(day.strftime('%Y-%m-%d'))\n",
    "    if day == datetime.datetime(2018,12,31): break#最後の日まで\n",
    "    day += datetime.timedelta(days=1)\n",
    "\n",
    "df4 = pd.DataFrame([],index=day_index_list)#空\n",
    "# display(df4)\n",
    "    \n",
    "for user in user_list:\n",
    "    df2 = df1[df1[\"UserID\"]==user]\n",
    "    atcivity_list = []\n",
    "    day = datetime.datetime(2018,8,27)\n",
    "    while True:\n",
    "        df3 = df2[(df2[\"daytime\"] >= day)&(df2[\"daytime\"] <= day+datetime.timedelta(days=1))]#その日を取り出す\n",
    "        atcivity_list.append(\"->\".join(list(df3[\"Purpose\"])))\n",
    "        if day == datetime.datetime(2018,12,31): break\n",
    "        day += datetime.timedelta(days=1) \n",
    "    df4[user] = atcivity_list\n",
    "display(df4)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "全体"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 32,
   "metadata": {},
   "outputs": [],
   "source": [
    "df5 = pd.Series( df4.values.reshape([-1]) )#短冊切って一列に\n",
    "act_pat_df = df5.value_counts()\n",
    "act_pat_df.index.name=\"activity_pattern\"\n",
    "act_pat_df = act_pat_df.reset_index()\n",
    "act_pat_df[\"index\"] = range(len(act_pat_df))\n",
    "act_pat_df = act_pat_df.set_index(\"index\")\n",
    "act_pat_df = act_pat_df.rename(columns={0: 'num'})#名前をつけただけ"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# 4 モードチェーン"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>activity_pattern</th>\n",
       "      <th>num</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>index</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td></td>\n",
       "      <td>22188</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Work/School-&gt;home</td>\n",
       "      <td>1289</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Work/School</td>\n",
       "      <td>558</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>home</td>\n",
       "      <td>476</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Shopping-&gt;home</td>\n",
       "      <td>156</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>808</th>\n",
       "      <td>other-&gt;home-&gt;other-&gt;Work/School</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>809</th>\n",
       "      <td>home-&gt;Shopping-&gt;home-&gt;Walking</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>810</th>\n",
       "      <td>Pickup-&gt;Lesson-&gt;Pickup-&gt;home</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>811</th>\n",
       "      <td>Hospital-&gt;home-&gt;other-&gt;home</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>812</th>\n",
       "      <td>Eating-&gt;Amusement-&gt;other-&gt; Eating-&gt;home</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>813 rows × 2 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                               activity_pattern    num\n",
       "index                                                 \n",
       "0                                                22188\n",
       "1                             Work/School->home   1289\n",
       "2                                   Work/School    558\n",
       "3                                          home    476\n",
       "4                                Shopping->home    156\n",
       "...                                         ...    ...\n",
       "808             other->home->other->Work/School      1\n",
       "809               home->Shopping->home->Walking      1\n",
       "810                Pickup->Lesson->Pickup->home      1\n",
       "811                 Hospital->home->other->home      1\n",
       "812     Eating->Amusement->other-> Eating->home      1\n",
       "\n",
       "[813 rows x 2 columns]"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "#act_pat_df.to_excel(\"activity_pattern_all.xlsx\")\n",
    "display(act_pat_df)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "各個人"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [],
   "source": [
    "df6 = df4.apply(pd.value_counts)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>4681</th>\n",
       "      <th>4683</th>\n",
       "      <th>4684</th>\n",
       "      <th>4685</th>\n",
       "      <th>4686</th>\n",
       "      <th>4687</th>\n",
       "      <th>4688</th>\n",
       "      <th>4689</th>\n",
       "      <th>4690</th>\n",
       "      <th>4691</th>\n",
       "      <th>...</th>\n",
       "      <th>5009</th>\n",
       "      <th>5010</th>\n",
       "      <th>5011</th>\n",
       "      <th>5012</th>\n",
       "      <th>5013</th>\n",
       "      <th>5014</th>\n",
       "      <th>5018</th>\n",
       "      <th>5024</th>\n",
       "      <th>5029</th>\n",
       "      <th>5430</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>--</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>---&gt;--</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>---&gt;---&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>---&gt;その他-&gt;食事-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>---&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>---&gt;業務</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>---&gt;業務-&gt;業務-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>---&gt;通勤・通学</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>---&gt;通勤・通学-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>---&gt;通勤・通学-&gt;業務-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>---&gt;通勤・通学-&gt;業務-&gt;通勤・通学-&gt;業務-&gt;食事</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>---&gt;食事</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>---&gt;食事-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他</th>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>2.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他-&gt;---&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他-&gt;---&gt;通院-&gt;帰宅-&gt;買物-&gt;その他</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他-&gt;その他</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他-&gt;その他-&gt;その他</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他-&gt;その他-&gt;その他-&gt;その他-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他-&gt;その他-&gt;その他-&gt;その他-&gt;買物-&gt;食事-&gt;帰宅-&gt;その他-&gt;その他</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他-&gt;その他-&gt;その他-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他-&gt;その他-&gt;その他-&gt;買物-&gt;その他-&gt;買物-&gt;その他-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他-&gt;その他-&gt;その他-&gt;買物-&gt;買物-&gt;買物</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他-&gt;その他-&gt;娯楽-&gt;その他-&gt;その他</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他-&gt;その他-&gt;娯楽-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他-&gt;その他-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他-&gt;その他-&gt;帰宅-&gt;送迎-&gt;通院-&gt;送迎-&gt;買物-&gt;その他</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他-&gt;その他-&gt;業務-&gt;買物-&gt;帰宅-&gt;その他</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他-&gt;その他-&gt;習い事-&gt;その他</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>その他-&gt;その他-&gt;習い事-&gt;その他-&gt;その他</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;帰社・帰校-&gt;食事</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;散策-&gt;買物-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;業務-&gt;帰社・帰校-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;業務-&gt;買物-&gt;買物-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;習い事</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;観光-&gt;帰宅-&gt;買物</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;観光-&gt;食事-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;買物</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;買物-&gt;娯楽</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;買物-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;買物-&gt;帰宅-&gt;買物-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;買物-&gt;帰宅-&gt;買物-&gt;食事-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;買物-&gt;帰社・帰校-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;買物-&gt;買物-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;買物-&gt;買物-&gt;帰宅-&gt;娯楽</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>1.0</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;買物-&gt;買物-&gt;帰宅-&gt;買物-&gt;買物-&gt;買物-&gt;買物-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;買物-&gt;買物-&gt;買物-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;買物-&gt;買物-&gt;食事-&gt;買物-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;買物-&gt;食事-&gt;買物-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;通勤・通学</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;通勤・通学-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;通勤・通学-&gt;業務-&gt;帰社・帰校-&gt;食事-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;通勤・通学-&gt;買物</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;食事</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;食事-&gt;その他-&gt;買物-&gt;食事-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;食事-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;食事-&gt;帰宅-&gt;通勤・通学-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;食事-&gt;買物-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;食事-&gt;食事</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>食事-&gt;食事-&gt;食事-&gt;散策-&gt;娯楽-&gt;業務-&gt;買物-&gt;帰宅</th>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "      <td>NaN</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>812 rows × 218 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                                          4681  4683  4684  4685  4686  4687  \\\n",
       "--                                         NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->--                                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->--->帰宅                                 NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->その他->食事->帰宅                            NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->帰宅                                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->業務                                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->業務->業務->帰宅                             NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->通勤・通学                                  NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->通勤・通学->帰宅                              NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->通勤・通学->業務->帰宅                          NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->通勤・通学->業務->通勤・通学->業務->食事               NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->食事                                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->食事->帰宅                                 NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他                                        1.0   NaN   NaN   NaN   1.0   NaN   \n",
       "その他->--->帰宅                                NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->--->通院->帰宅->買物->その他                   NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他                                   NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->その他                              NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->その他->その他->帰宅                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->その他->その他->買物->食事->帰宅->その他->その他   NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->その他->帰宅                          NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->その他->買物->その他->買物->その他->帰宅        NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->その他->買物->買物->買物                  NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->娯楽->その他->その他                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->娯楽->帰宅                           NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->帰宅                               NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->帰宅->送迎->通院->送迎->買物->その他          NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->業務->買物->帰宅->その他                  NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->習い事->その他                         NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->習い事->その他->その他                    NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "...                                        ...   ...   ...   ...   ...   ...   \n",
       "食事->帰社・帰校->食事                              NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->散策->買物->帰宅                             NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->業務->帰社・帰校->帰宅                          NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->業務->買物->買物->帰宅                         NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->習い事                                    NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->観光->帰宅->買物                             NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->観光->食事->帰宅                             NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物                                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->娯楽                                 NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->帰宅                                 NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->帰宅->買物->帰宅                         NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->帰宅->買物->食事->帰宅                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->帰社・帰校->帰宅                          NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->買物->帰宅                             NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->買物->帰宅->娯楽                         NaN   NaN   NaN   1.0   NaN   NaN   \n",
       "食事->買物->買物->帰宅->買物->買物->買物->買物->帰宅         NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->買物->買物->帰宅                         NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->買物->食事->買物->帰宅                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->食事->買物->帰宅                         NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->通勤・通学                                  NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->通勤・通学->帰宅                              NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->通勤・通学->業務->帰社・帰校->食事->帰宅               NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->通勤・通学->買物                              NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->食事                                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->食事->その他->買物->食事->帰宅                    NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->食事->帰宅                                 NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->食事->帰宅->通勤・通学->帰宅                      NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->食事->買物->帰宅                             NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->食事->食事                                 NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->食事->食事->散策->娯楽->業務->買物->帰宅             NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "\n",
       "                                          4688  4689  4690  4691  ...  5009  \\\n",
       "--                                         NaN   NaN   NaN   NaN  ...   NaN   \n",
       "--->--                                     NaN   NaN   NaN   NaN  ...   NaN   \n",
       "--->--->帰宅                                 NaN   NaN   NaN   NaN  ...   NaN   \n",
       "--->その他->食事->帰宅                            NaN   NaN   NaN   NaN  ...   NaN   \n",
       "--->帰宅                                     NaN   NaN   NaN   NaN  ...   NaN   \n",
       "--->業務                                     NaN   NaN   NaN   NaN  ...   NaN   \n",
       "--->業務->業務->帰宅                             NaN   NaN   NaN   NaN  ...   NaN   \n",
       "--->通勤・通学                                  NaN   NaN   NaN   NaN  ...   NaN   \n",
       "--->通勤・通学->帰宅                              NaN   NaN   NaN   NaN  ...   NaN   \n",
       "--->通勤・通学->業務->帰宅                          NaN   NaN   NaN   NaN  ...   NaN   \n",
       "--->通勤・通学->業務->通勤・通学->業務->食事               NaN   NaN   NaN   NaN  ...   NaN   \n",
       "--->食事                                     NaN   NaN   NaN   NaN  ...   NaN   \n",
       "--->食事->帰宅                                 NaN   NaN   NaN   NaN  ...   NaN   \n",
       "その他                                        NaN   NaN   2.0   NaN  ...   NaN   \n",
       "その他->--->帰宅                                NaN   NaN   NaN   NaN  ...   NaN   \n",
       "その他->--->通院->帰宅->買物->その他                   NaN   NaN   NaN   NaN  ...   NaN   \n",
       "その他->その他                                   NaN   NaN   NaN   NaN  ...   NaN   \n",
       "その他->その他->その他                              NaN   NaN   NaN   NaN  ...   NaN   \n",
       "その他->その他->その他->その他->帰宅                     NaN   NaN   NaN   NaN  ...   NaN   \n",
       "その他->その他->その他->その他->買物->食事->帰宅->その他->その他   NaN   NaN   NaN   NaN  ...   NaN   \n",
       "その他->その他->その他->帰宅                          NaN   NaN   NaN   NaN  ...   NaN   \n",
       "その他->その他->その他->買物->その他->買物->その他->帰宅        NaN   NaN   1.0   NaN  ...   NaN   \n",
       "その他->その他->その他->買物->買物->買物                  NaN   NaN   NaN   NaN  ...   NaN   \n",
       "その他->その他->娯楽->その他->その他                     NaN   NaN   NaN   NaN  ...   NaN   \n",
       "その他->その他->娯楽->帰宅                           NaN   NaN   NaN   NaN  ...   NaN   \n",
       "その他->その他->帰宅                               NaN   NaN   NaN   NaN  ...   NaN   \n",
       "その他->その他->帰宅->送迎->通院->送迎->買物->その他          NaN   NaN   NaN   NaN  ...   NaN   \n",
       "その他->その他->業務->買物->帰宅->その他                  NaN   NaN   NaN   NaN  ...   NaN   \n",
       "その他->その他->習い事->その他                         NaN   NaN   NaN   NaN  ...   NaN   \n",
       "その他->その他->習い事->その他->その他                    NaN   NaN   NaN   NaN  ...   NaN   \n",
       "...                                        ...   ...   ...   ...  ...   ...   \n",
       "食事->帰社・帰校->食事                              NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->散策->買物->帰宅                             NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->業務->帰社・帰校->帰宅                          NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->業務->買物->買物->帰宅                         NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->習い事                                    NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->観光->帰宅->買物                             NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->観光->食事->帰宅                             NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->買物                                     NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->買物->娯楽                                 NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->買物->帰宅                                 NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->買物->帰宅->買物->帰宅                         NaN   NaN   1.0   NaN  ...   NaN   \n",
       "食事->買物->帰宅->買物->食事->帰宅                     NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->買物->帰社・帰校->帰宅                          NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->買物->買物->帰宅                             NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->買物->買物->帰宅->娯楽                         NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->買物->買物->帰宅->買物->買物->買物->買物->帰宅         NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->買物->買物->買物->帰宅                         NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->買物->買物->食事->買物->帰宅                     NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->買物->食事->買物->帰宅                         NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->通勤・通学                                  NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->通勤・通学->帰宅                              NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->通勤・通学->業務->帰社・帰校->食事->帰宅               NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->通勤・通学->買物                              NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->食事                                     NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->食事->その他->買物->食事->帰宅                    NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->食事->帰宅                                 NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->食事->帰宅->通勤・通学->帰宅                      NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->食事->買物->帰宅                             NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->食事->食事                                 NaN   NaN   NaN   NaN  ...   NaN   \n",
       "食事->食事->食事->散策->娯楽->業務->買物->帰宅             NaN   NaN   NaN   NaN  ...   NaN   \n",
       "\n",
       "                                          5010  5011  5012  5013  5014  5018  \\\n",
       "--                                         NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->--                                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->--->帰宅                                 NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->その他->食事->帰宅                            NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->帰宅                                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->業務                                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->業務->業務->帰宅                             NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->通勤・通学                                  NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->通勤・通学->帰宅                              NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->通勤・通学->業務->帰宅                          NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->通勤・通学->業務->通勤・通学->業務->食事               NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->食事                                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "--->食事->帰宅                                 NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他                                        NaN   1.0   1.0   NaN   NaN   NaN   \n",
       "その他->--->帰宅                                NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->--->通院->帰宅->買物->その他                   NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他                                   NaN   1.0   NaN   NaN   NaN   NaN   \n",
       "その他->その他->その他                              NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->その他->その他->帰宅                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->その他->その他->買物->食事->帰宅->その他->その他   NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->その他->帰宅                          NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->その他->買物->その他->買物->その他->帰宅        NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->その他->買物->買物->買物                  NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->娯楽->その他->その他                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->娯楽->帰宅                           NaN   1.0   NaN   NaN   NaN   NaN   \n",
       "その他->その他->帰宅                               NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->帰宅->送迎->通院->送迎->買物->その他          NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->業務->買物->帰宅->その他                  NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->習い事->その他                         NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "その他->その他->習い事->その他->その他                    NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "...                                        ...   ...   ...   ...   ...   ...   \n",
       "食事->帰社・帰校->食事                              NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->散策->買物->帰宅                             NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->業務->帰社・帰校->帰宅                          NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->業務->買物->買物->帰宅                         NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->習い事                                    NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->観光->帰宅->買物                             NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->観光->食事->帰宅                             NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物                                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->娯楽                                 NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->帰宅                                 NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->帰宅->買物->帰宅                         NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->帰宅->買物->食事->帰宅                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->帰社・帰校->帰宅                          NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->買物->帰宅                             NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->買物->帰宅->娯楽                         NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->買物->帰宅->買物->買物->買物->買物->帰宅         NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->買物->買物->帰宅                         NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->買物->食事->買物->帰宅                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->買物->食事->買物->帰宅                         NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->通勤・通学                                  NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->通勤・通学->帰宅                              NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->通勤・通学->業務->帰社・帰校->食事->帰宅               NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->通勤・通学->買物                              NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->食事                                     NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->食事->その他->買物->食事->帰宅                    NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->食事->帰宅                                 NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->食事->帰宅->通勤・通学->帰宅                      NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->食事->買物->帰宅                             NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->食事->食事                                 NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "食事->食事->食事->散策->娯楽->業務->買物->帰宅             NaN   NaN   NaN   NaN   NaN   NaN   \n",
       "\n",
       "                                          5024  5029  5430  \n",
       "--                                         NaN   NaN   NaN  \n",
       "--->--                                     NaN   NaN   NaN  \n",
       "--->--->帰宅                                 NaN   NaN   NaN  \n",
       "--->その他->食事->帰宅                            NaN   NaN   NaN  \n",
       "--->帰宅                                     NaN   NaN   NaN  \n",
       "--->業務                                     NaN   NaN   NaN  \n",
       "--->業務->業務->帰宅                             NaN   NaN   NaN  \n",
       "--->通勤・通学                                  NaN   NaN   NaN  \n",
       "--->通勤・通学->帰宅                              NaN   NaN   NaN  \n",
       "--->通勤・通学->業務->帰宅                          NaN   NaN   NaN  \n",
       "--->通勤・通学->業務->通勤・通学->業務->食事               NaN   NaN   NaN  \n",
       "--->食事                                     NaN   NaN   NaN  \n",
       "--->食事->帰宅                                 NaN   NaN   NaN  \n",
       "その他                                        1.0   NaN   NaN  \n",
       "その他->--->帰宅                                NaN   NaN   NaN  \n",
       "その他->--->通院->帰宅->買物->その他                   NaN   NaN   NaN  \n",
       "その他->その他                                   NaN   NaN   NaN  \n",
       "その他->その他->その他                              NaN   NaN   NaN  \n",
       "その他->その他->その他->その他->帰宅                     NaN   NaN   NaN  \n",
       "その他->その他->その他->その他->買物->食事->帰宅->その他->その他   NaN   NaN   NaN  \n",
       "その他->その他->その他->帰宅                          NaN   NaN   NaN  \n",
       "その他->その他->その他->買物->その他->買物->その他->帰宅        NaN   NaN   NaN  \n",
       "その他->その他->その他->買物->買物->買物                  NaN   NaN   NaN  \n",
       "その他->その他->娯楽->その他->その他                     NaN   NaN   NaN  \n",
       "その他->その他->娯楽->帰宅                           NaN   NaN   NaN  \n",
       "その他->その他->帰宅                               NaN   NaN   NaN  \n",
       "その他->その他->帰宅->送迎->通院->送迎->買物->その他          NaN   NaN   NaN  \n",
       "その他->その他->業務->買物->帰宅->その他                  NaN   NaN   NaN  \n",
       "その他->その他->習い事->その他                         NaN   NaN   NaN  \n",
       "その他->その他->習い事->その他->その他                    NaN   NaN   NaN  \n",
       "...                                        ...   ...   ...  \n",
       "食事->帰社・帰校->食事                              NaN   NaN   NaN  \n",
       "食事->散策->買物->帰宅                             NaN   NaN   NaN  \n",
       "食事->業務->帰社・帰校->帰宅                          NaN   NaN   NaN  \n",
       "食事->業務->買物->買物->帰宅                         NaN   NaN   NaN  \n",
       "食事->習い事                                    NaN   NaN   NaN  \n",
       "食事->観光->帰宅->買物                             NaN   NaN   NaN  \n",
       "食事->観光->食事->帰宅                             NaN   NaN   NaN  \n",
       "食事->買物                                     NaN   NaN   NaN  \n",
       "食事->買物->娯楽                                 NaN   NaN   NaN  \n",
       "食事->買物->帰宅                                 NaN   NaN   NaN  \n",
       "食事->買物->帰宅->買物->帰宅                         NaN   NaN   NaN  \n",
       "食事->買物->帰宅->買物->食事->帰宅                     NaN   NaN   NaN  \n",
       "食事->買物->帰社・帰校->帰宅                          NaN   NaN   NaN  \n",
       "食事->買物->買物->帰宅                             NaN   NaN   NaN  \n",
       "食事->買物->買物->帰宅->娯楽                         NaN   NaN   NaN  \n",
       "食事->買物->買物->帰宅->買物->買物->買物->買物->帰宅         NaN   NaN   NaN  \n",
       "食事->買物->買物->買物->帰宅                         NaN   NaN   NaN  \n",
       "食事->買物->買物->食事->買物->帰宅                     NaN   NaN   NaN  \n",
       "食事->買物->食事->買物->帰宅                         NaN   NaN   NaN  \n",
       "食事->通勤・通学                                  NaN   NaN   NaN  \n",
       "食事->通勤・通学->帰宅                              NaN   NaN   NaN  \n",
       "食事->通勤・通学->業務->帰社・帰校->食事->帰宅               NaN   NaN   NaN  \n",
       "食事->通勤・通学->買物                              NaN   NaN   NaN  \n",
       "食事->食事                                     NaN   NaN   NaN  \n",
       "食事->食事->その他->買物->食事->帰宅                    NaN   NaN   NaN  \n",
       "食事->食事->帰宅                                 NaN   NaN   NaN  \n",
       "食事->食事->帰宅->通勤・通学->帰宅                      NaN   NaN   NaN  \n",
       "食事->食事->買物->帰宅                             NaN   NaN   NaN  \n",
       "食事->食事->食事                                 NaN   NaN   NaN  \n",
       "食事->食事->食事->散策->娯楽->業務->買物->帰宅             NaN   NaN   NaN  \n",
       "\n",
       "[812 rows x 218 columns]"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "df6 = df6.drop(\"\")\n",
    "display(df6)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 37,
   "metadata": {},
   "outputs": [],
   "source": [
    "df7 = pd.DataFrame([])\n",
    "df7[\"days\"] = df6.max() # 何日？\n",
    "df7[\"act\"] = df6.idxmax() # それはどのアクティビティ？"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# 4. 個人のパターン頻度"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>days</th>\n",
       "      <th>act</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>4681</th>\n",
       "      <td>39.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4683</th>\n",
       "      <td>5.0</td>\n",
       "      <td>帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4684</th>\n",
       "      <td>44.0</td>\n",
       "      <td>通勤・通学</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4685</th>\n",
       "      <td>2.0</td>\n",
       "      <td>通勤・通学</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4686</th>\n",
       "      <td>1.0</td>\n",
       "      <td>その他</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4687</th>\n",
       "      <td>7.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4688</th>\n",
       "      <td>16.0</td>\n",
       "      <td>通勤・通学</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4689</th>\n",
       "      <td>9.0</td>\n",
       "      <td>帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4690</th>\n",
       "      <td>6.0</td>\n",
       "      <td>買物-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4691</th>\n",
       "      <td>4.0</td>\n",
       "      <td>通勤・通学</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4692</th>\n",
       "      <td>3.0</td>\n",
       "      <td>業務</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4693</th>\n",
       "      <td>2.0</td>\n",
       "      <td>帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4695</th>\n",
       "      <td>40.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4696</th>\n",
       "      <td>41.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4697</th>\n",
       "      <td>4.0</td>\n",
       "      <td>通勤・通学</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4698</th>\n",
       "      <td>1.0</td>\n",
       "      <td>帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4699</th>\n",
       "      <td>1.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅-&gt;食事</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4700</th>\n",
       "      <td>25.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4701</th>\n",
       "      <td>1.0</td>\n",
       "      <td>その他</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4702</th>\n",
       "      <td>5.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4704</th>\n",
       "      <td>2.0</td>\n",
       "      <td>その他-&gt;食事-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4705</th>\n",
       "      <td>2.0</td>\n",
       "      <td>送迎-&gt;送迎-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4707</th>\n",
       "      <td>5.0</td>\n",
       "      <td>帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4710</th>\n",
       "      <td>15.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4712</th>\n",
       "      <td>13.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4713</th>\n",
       "      <td>1.0</td>\n",
       "      <td>その他</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4714</th>\n",
       "      <td>17.0</td>\n",
       "      <td>通勤・通学</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4715</th>\n",
       "      <td>24.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4716</th>\n",
       "      <td>17.0</td>\n",
       "      <td>業務</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4718</th>\n",
       "      <td>3.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4970</th>\n",
       "      <td>11.0</td>\n",
       "      <td>買物-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4972</th>\n",
       "      <td>13.0</td>\n",
       "      <td>送迎-&gt;帰宅-&gt;送迎-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4973</th>\n",
       "      <td>15.0</td>\n",
       "      <td>通勤・通学-&gt;業務-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4976</th>\n",
       "      <td>7.0</td>\n",
       "      <td>業務</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4977</th>\n",
       "      <td>10.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4978</th>\n",
       "      <td>1.0</td>\n",
       "      <td>買物-&gt;待ち時間-&gt;食事</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4979</th>\n",
       "      <td>8.0</td>\n",
       "      <td>帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4980</th>\n",
       "      <td>15.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4982</th>\n",
       "      <td>2.0</td>\n",
       "      <td>通勤・通学</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4984</th>\n",
       "      <td>22.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4985</th>\n",
       "      <td>18.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4994</th>\n",
       "      <td>2.0</td>\n",
       "      <td>通勤・通学</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4995</th>\n",
       "      <td>2.0</td>\n",
       "      <td>通勤・通学</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4997</th>\n",
       "      <td>2.0</td>\n",
       "      <td>通勤・通学</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4998</th>\n",
       "      <td>16.0</td>\n",
       "      <td>通勤・通学-&gt;食事-&gt;帰社・帰校-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4999</th>\n",
       "      <td>1.0</td>\n",
       "      <td>その他-&gt;買物-&gt;買物</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5001</th>\n",
       "      <td>9.0</td>\n",
       "      <td>通勤・通学-&gt;食事-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5002</th>\n",
       "      <td>20.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5007</th>\n",
       "      <td>2.0</td>\n",
       "      <td>散策</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5008</th>\n",
       "      <td>4.0</td>\n",
       "      <td>帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5009</th>\n",
       "      <td>3.0</td>\n",
       "      <td>帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5010</th>\n",
       "      <td>9.0</td>\n",
       "      <td>通勤・通学-&gt;帰社・帰校</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5011</th>\n",
       "      <td>4.0</td>\n",
       "      <td>買物-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5012</th>\n",
       "      <td>21.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5013</th>\n",
       "      <td>2.0</td>\n",
       "      <td>娯楽-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5014</th>\n",
       "      <td>19.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5018</th>\n",
       "      <td>1.0</td>\n",
       "      <td>観光</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5024</th>\n",
       "      <td>2.0</td>\n",
       "      <td>買物</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5029</th>\n",
       "      <td>16.0</td>\n",
       "      <td>通勤・通学-&gt;帰宅</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5430</th>\n",
       "      <td>2.0</td>\n",
       "      <td>通勤・通学</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>218 rows × 2 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "      days                   act\n",
       "4681  39.0             通勤・通学->帰宅\n",
       "4683   5.0                    帰宅\n",
       "4684  44.0                 通勤・通学\n",
       "4685   2.0                 通勤・通学\n",
       "4686   1.0                   その他\n",
       "4687   7.0             通勤・通学->帰宅\n",
       "4688  16.0                 通勤・通学\n",
       "4689   9.0                    帰宅\n",
       "4690   6.0                買物->帰宅\n",
       "4691   4.0                 通勤・通学\n",
       "4692   3.0                    業務\n",
       "4693   2.0                    帰宅\n",
       "4695  40.0             通勤・通学->帰宅\n",
       "4696  41.0             通勤・通学->帰宅\n",
       "4697   4.0                 通勤・通学\n",
       "4698   1.0                    帰宅\n",
       "4699   1.0         通勤・通学->帰宅->食事\n",
       "4700  25.0             通勤・通学->帰宅\n",
       "4701   1.0                   その他\n",
       "4702   5.0             通勤・通学->帰宅\n",
       "4704   2.0           その他->食事->帰宅\n",
       "4705   2.0            送迎->送迎->帰宅\n",
       "4707   5.0                    帰宅\n",
       "4710  15.0             通勤・通学->帰宅\n",
       "4712  13.0             通勤・通学->帰宅\n",
       "4713   1.0                   その他\n",
       "4714  17.0                 通勤・通学\n",
       "4715  24.0             通勤・通学->帰宅\n",
       "4716  17.0                    業務\n",
       "4718   3.0             通勤・通学->帰宅\n",
       "...    ...                   ...\n",
       "4970  11.0                買物->帰宅\n",
       "4972  13.0        送迎->帰宅->送迎->帰宅\n",
       "4973  15.0         通勤・通学->業務->帰宅\n",
       "4976   7.0                    業務\n",
       "4977  10.0             通勤・通学->帰宅\n",
       "4978   1.0          買物->待ち時間->食事\n",
       "4979   8.0                    帰宅\n",
       "4980  15.0             通勤・通学->帰宅\n",
       "4982   2.0                 通勤・通学\n",
       "4984  22.0             通勤・通学->帰宅\n",
       "4985  18.0             通勤・通学->帰宅\n",
       "4994   2.0                 通勤・通学\n",
       "4995   2.0                 通勤・通学\n",
       "4997   2.0                 通勤・通学\n",
       "4998  16.0  通勤・通学->食事->帰社・帰校->帰宅\n",
       "4999   1.0           その他->買物->買物\n",
       "5001   9.0         通勤・通学->食事->帰宅\n",
       "5002  20.0             通勤・通学->帰宅\n",
       "5007   2.0                    散策\n",
       "5008   4.0                    帰宅\n",
       "5009   3.0                    帰宅\n",
       "5010   9.0          通勤・通学->帰社・帰校\n",
       "5011   4.0                買物->帰宅\n",
       "5012  21.0             通勤・通学->帰宅\n",
       "5013   2.0                娯楽->帰宅\n",
       "5014  19.0             通勤・通学->帰宅\n",
       "5018   1.0                    観光\n",
       "5024   2.0                    買物\n",
       "5029  16.0             通勤・通学->帰宅\n",
       "5430   2.0                 通勤・通学\n",
       "\n",
       "[218 rows x 2 columns]"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "display(df7)\n",
    "df7.to_excel(\"activity_pattern_user.xlsx\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 89,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "data = df10 \n",
    "plt.figure()\n",
    "# #色指定\n",
    "# colorlist=['#e41a1c', '#377eb8', '#4daf4a', '#984ea3', '#ff7f00', '#ffff33']\n",
    "# #　積み上げ棒グラフ\n",
    "data.plot(kind=\"bar\", stacked=True)\n",
    "# #凡例の場所指定\n",
    "# plt.legend(bbox_to_anchor=(1.05, 1), loc='upper left', borderaxespad=0)\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.6"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
